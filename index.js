(function(){"use strict";function u(t,e,a,n,s,i,r,o){var l=typeof t=="function"?t.options:t;return e&&(l.render=e,l.staticRenderFns=a,l._compiled=!0),l._scopeId="data-v-"+i,{exports:t,options:l}}const g={props:{page:{type:Number,default:1},maxLength:{type:[Number,Boolean],default:!1},generation:{type:Object,default:()=>({enabled:!1})}},data(){return{images:[],defaultLanguage:null,pagination:{page:1,pages:1,total:0,limit:100},totals:{unsaved:0,saved:0,total:0},unsavedByLanguage:{},currentImages:{},originalImages:{},saving:{},generating:{},altSaveTimeouts:{},loading:!1,filterMode:null,generationScope:"current",generatingAll:!1,activeImageId:null,lastCmdSHandledAt:0}},computed:{savedImagesCount(){return this.totals.saved},unsavedImagesCount(){return this.totals.unsaved},totalImagesCount(){return this.totals.total},isComplete(){return this.totals.total>0&&this.savedImagesCount===this.totals.total},hasAnyChanges(){return Object.keys(this.currentImages).some(t=>this.hasChanges(t))},currentLanguage(){return this.$panel.language?this.$panel.language.code:null},languages(){return this.$panel.languages||[]},defaultLanguageCode(){var e,a;if(this.defaultLanguage)return this.defaultLanguage;const t=this.languages.find(n=>n.default===!0||n.isDefault===!0);return t!=null&&t.code?t.code:((a=(e=this.languages)==null?void 0:e[0])==null?void 0:a.code)||null},defaultLanguageItem(){var e,a;const t=this.defaultLanguageCode;return t?this.languages.find(n=>n.code===t)||((a=this.languages)==null?void 0:a[0])||null:((e=this.languages)==null?void 0:e[0])||null},secondaryLanguages(){var e;const t=(e=this.defaultLanguageItem)==null?void 0:e.code;return t?this.languages.filter(a=>a.code!==t):this.languages},languageButtonLabel(){const t=this.languages.find(e=>e.code===this.currentLanguage);return t?`${t.name} (${t.code.toUpperCase()})`:this.$t("language")},hasAnyUnsavedLanguages(){const t=this.currentLanguage;return Object.entries(this.unsavedByLanguage||{}).some(([e,a])=>Number(a)>0&&(!t||e!==t))},isSaving(){return Object.values(this.saving||{}).some(Boolean)},panelGenerationEnabled(){var t;return((t=this.generation)==null?void 0:t.enabled)===!0},generationScopes(){return[{value:"current",text:this.$t("medienbaecker.alter.generate.scope.current")},{value:"all",text:this.$t("medienbaecker.alter.generate.scope.all")}]},generationDropdownLabel(){return this.$t("medienbaecker.alter.generate.label")},currentFilterLabel(){if(this.filterMode===null)return this.$t("medienbaecker.alter.filter.all");const t=this.filterOptions.find(e=>e.value===this.filterMode);return t?t.text:this.$t("medienbaecker.alter.filter.all")},filterOptions(){return[{text:this.$t("medienbaecker.alter.filter.saved"),value:"saved"},{text:this.$t("medienbaecker.alter.filter.unsaved"),value:"unsaved"},{text:this.$t("medienbaecker.alter.filter.missing"),value:"missing"}]},emptyStateMessage(){return this.$t("medienbaecker.alter.noImages")},groupedImages(){const t={};return this.images.forEach(e=>{const a=e.pageId;t[a]||(t[a]={pageTitle:e.pageTitle,pageId:e.pageId,pagePanelUrl:e.pagePanelUrl,pageSort:e.pageSort,pageStatus:e.pageStatus,hasParentDrafts:e.hasParentDrafts,breadcrumbs:e.breadcrumbs,sortKey:e.sortKey,images:[]}),t[a].images.push(e)}),Object.values(t).sort((e,a)=>e.sortKey.localeCompare(a.sortKey))},unsavedCountByPageId(){const t=Object.create(null);for(const e of this.images){const a=e.pageId;t[a]==null&&(t[a]=0),this.hasChanges(e.id)&&(t[a]+=1)}return t}},watch:{page(t){this.loading=!0,this.flushAltDraftSaves().finally(()=>this.loadImages(t))},currentLanguage(t,e){t!==e&&e!==void 0&&(this.loading=!0,this.flushAltDraftSaves().finally(()=>this.loadImages(this.page)))}},created(){if(!this.ensurePanelStoresIntact())return;const e=new URLSearchParams(window.location.search).get("filter");e&&["saved","missing","unsaved"].includes(e)&&(this.filterMode=e),this.loadImages(this.page)},mounted(){window.panel.events.on("keydown.cmd.s",this.onCmdS)},beforeDestroy(){window.panel.events.off("keydown.cmd.s",this.onCmdS)},methods:{pageStatusUi(t){const e=t.pageStatus,n={draft:{icon:"status-draft",theme:"negative-icon",text:this.$t("page.status.draft")},unlisted:{icon:"status-unlisted",theme:"notice-icon",text:this.$t("page.status.unlisted")},listed:{icon:"status-listed",theme:"positive-icon",text:this.$t("page.status.listed")}}[e]??{icon:"circle",theme:null,text:e};return n.title=`Status: ${n.text}`,n},badgeForPage(t){const e=this.unsavedCountByPageId[t]||0;return e>0?{theme:"orange",text:e}:null},setActiveImage(t){this.activeImageId=t},getActiveImageIdFromDom(){var a;const t=document.activeElement;if(!t||!t.closest)return null;const e=t.closest("[data-image-id]");return((a=e==null?void 0:e.dataset)==null?void 0:a.imageId)||null},async onCmdS(t){var a,n;if(Date.now()-this.lastCmdSHandledAt<250){(a=t==null?void 0:t.preventDefault)==null||a.call(t);return}(n=t==null?void 0:t.preventDefault)==null||n.call(t);const e=this.activeImageId||this.getActiveImageIdFromDom();if(e&&this.hasChanges(e)){await this.saveImage(e);return}await this.saveAllChanges(t)},onAltTextKeydown(t,e){if(this.setActiveImage(t),(e.metaKey||e.ctrlKey)&&String(e.key).toLowerCase()==="s"){e.preventDefault(),e.stopPropagation(),this.lastCmdSHandledAt=Date.now(),this.saveImage(t);return}e.key==="Enter"&&e.preventDefault()},hasChanges(t){const e=this.currentImages[t],a=this.originalImages[t];return!e||!a?!1:e.alt!==a.alt},getImageData(t){return this.currentImages[t]||{alt:""}},shouldShowGenerateButton(t){var n,s;if(this.panelGenerationEnabled!==!0)return!1;const e=((s=(n=this.currentImages)==null?void 0:n[t])==null?void 0:s.alt)??"";return String(e).trim().length===0},applyGeneratedAlt(t,e){var i;if(!((i=this.currentImages)!=null&&i[t]))return;const a=String(e??"").replace(/[\r\n]+/g," ").trim(),n=this.hasChanges(t);this.$set(this.currentImages[t],"alt",a);const s=this.hasChanges(t);this.updateUnsavedTotals(n,s)},applyGenerationResponse(t){const e=Array.isArray(t==null?void 0:t.images)?t.images:[];if(e.length===0)return;const a=this.currentLanguage??null;for(const n of e){const s=n==null?void 0:n.imageId;if(!s)continue;const i=Array.isArray(n==null?void 0:n.languages)?n.languages:[],r=i.find(o=>(o==null?void 0:o.language)===a)||i[0];r&&["generated","translated"].includes(r.status)&&this.applyGeneratedAlt(s,r.text??"")}},async saveAltDraft(t){var n;const e=this.getImageById(t);if(!e)return;const a=(((n=this.currentImages[t])==null?void 0:n.alt)??"").trim();try{const s=await this.$api.post("alter/update",{imageId:e.id,field:"alt",value:a});s&&s.error&&this.$panel.notification.error(s.error||this.$t("medienbaecker.alter.error"))}catch(s){this.$panel.notification.error(this.$t("medienbaecker.alter.error")),console.error("Draft save failed",s)}},scheduleAltDraftSave(t){this.altSaveTimeouts[t]&&clearTimeout(this.altSaveTimeouts[t]),this.altSaveTimeouts[t]=setTimeout(async()=>{try{await this.saveAltDraft(t)}finally{this.altSaveTimeouts[t]=null}},200)},async flushAltDraftSaves(){const t=Object.keys(this.altSaveTimeouts).filter(e=>this.altSaveTimeouts[e]);if(t.length!==0){for(const e of t)clearTimeout(this.altSaveTimeouts[e]),this.altSaveTimeouts[e]=null;await Promise.all(t.map(e=>this.saveAltDraft(e)))}},async flushAltDraftSaveFor(t){var a;const e=(a=this.altSaveTimeouts)==null?void 0:a[t];e&&(clearTimeout(e),this.altSaveTimeouts[t]=null,await this.saveAltDraft(t))},setGenerationScope(t){const e=["current","all"];this.generationScope=e.includes(t)?t:"current"},async onGenerateAll(t=this.generationScope){this.setGenerationScope(t),await this.generateForAll(t)},async generateForAll(t=this.generationScope){if(!this.panelGenerationEnabled||this.images.length===0)return;await this.flushAltDraftSaves();const e=[...new Set(this.images.map(a=>a.id))];this.generatingAll=!0;try{const a=await this.$api.post("alter/generate",{imageIds:e,languageMode:t});if(a!=null&&a.error)throw new Error(a.error);const n=Number((a==null?void 0:a.generated)??0),s=n>0?this.$t("medienbaecker.alter.generate.success.all",{count:n}):this.$t("medienbaecker.alter.generate.none");this.applyGenerationResponse(a),this.$panel.notification.success(s)}catch(a){this.$panel.notification.error((a==null?void 0:a.message)||this.$t("medienbaecker.alter.generate.failed")),console.error(a)}finally{this.generatingAll=!1}},async onGenerateImage(t){await this.generateForImage(t,"current")},async generateForImage(t,e=this.generationScope){var a,n;if(this.panelGenerationEnabled){await this.flushAltDraftSaveFor(t),this.$set(this.generating,t,!0);try{const s=await this.$api.post("alter/generate",{imageIds:[t],languageMode:e});if(s!=null&&s.error)throw new Error(s.error);const i=Number((s==null?void 0:s.generated)??0),r=Array.isArray(s==null?void 0:s.images)?(n=(a=s.images.find(l=>l.imageId===t))==null?void 0:a.languages)==null?void 0:n.some(l=>l.status==="translated"):!1,o=i>0?r?this.$t("medienbaecker.alter.generate.success.translated.one"):this.$t("medienbaecker.alter.generate.success.one"):this.$t("medienbaecker.alter.generate.none");this.applyGenerationResponse(s),this.$panel.notification.success(o)}catch(s){this.$panel.notification.error((s==null?void 0:s.message)||this.$t("medienbaecker.alter.generate.failed")),console.error(s)}finally{this.$set(this.generating,t,!1)}}},toggleDropdown(t){const e=this.getDropdownRef(t);e&&typeof e.toggle=="function"&&e.toggle()},getDropdownRef(t){var a;const e=(a=this.$refs)==null?void 0:a[t];return Array.isArray(e)?e[0]:e||null},ensurePanelStoresIntact(){var a;const t="medienbaecker.alter.panelStoreResetAttempted",e=["dropdown","language","menu","notification","system","translation","user"];for(const n of e){const s=(a=this.$panel)==null?void 0:a[n];if(s&&typeof s.set!="function"){try{sessionStorage.getItem(t)||(sessionStorage.setItem(t,"1"),window.location.reload())}catch{window.location.reload()}return!1}}try{sessionStorage.removeItem(t)}catch{}return!0},async onFilterChange(t){await this.flushAltDraftSaves(),this.ensurePanelStoresIntact()&&(this.filterMode=t,this.page===1&&await this.loadImages(1),this.$go(this.buildRoute(1)))},async onLanguageChange(t){await this.flushAltDraftSaves(),this.ensurePanelStoresIntact()&&(t??null)!==(this.currentLanguage??null)&&(this.loading=!0,this.$reload({query:{...this.filterMode?{filter:this.filterMode}:{},language:t}}))},async onPageChange(t){await this.flushAltDraftSaves();const e=t.page||t;this.$go(this.buildRoute(e))},onAltTextInput(t,e){const a=e.replace(/[\r\n]+/g," ").trim();if(this.currentImages[t]){const n=this.hasChanges(t);this.$set(this.currentImages[t],"alt",a);const s=this.hasChanges(t);this.updateUnsavedTotals(n,s),this.scheduleAltDraftSave(t)}},buildRoute(t,e=null){const a={...this.filterMode?{filter:this.filterMode}:{}},n=e||this.currentLanguage;return n&&(a.language=n),this.$url(`alter/${t}`,a)},async loadImages(t=1){this.loading=!0;try{const e=await this.$api.get("alter/images",{page:t,filter:this.filterMode||"all"});this.images=e.images,this.defaultLanguage=e.defaultLanguage||null,this.pagination=e.pagination,this.totals=e.totals,this.unsavedByLanguage=e.unsavedByLanguage||{},this.initializeImageData()}catch(e){console.error("Failed to load images:",e),this.$panel.notification.error("Failed to load images")}finally{this.loading=!1}},languageHasUnsavedChanges(t){var e;return t?Number(((e=this.unsavedByLanguage)==null?void 0:e[t])??0)>0:!1},initializeImageData(){this.currentImages={},this.originalImages={},this.saving={},this.generating={},this.generatingAll=!1,this.images.forEach(t=>{const e={alt:t.alt||""},a={alt:t.altOriginal||""};this.$set(this.originalImages,t.id,{...a}),this.$set(this.currentImages,t.id,{...e}),this.$set(this.saving,t.id,!1)})},formatItems(t){return t.map(e=>({...e,text:e.filename,image:{src:e.thumbUrl,back:"pattern",ratio:"3/2"}}))},formatBreadcrumbs(t){return t.map(e=>({text:e.title||e.label,label:e.label||e.title,link:e.panelUrl||e.link}))},getImageById(t){return this.images.find(e=>e.id===t)},updateUnsavedTotals(t,e){var s;if(t===e)return;const a=e?1:-1;this.totals.unsaved+=a;const n=this.currentLanguage;if(n){const i=Number(((s=this.unsavedByLanguage)==null?void 0:s[n])??0);this.$set(this.unsavedByLanguage,n,Math.max(0,i+a))}},updateSavedTotals(t,e){const a=t&&t.trim()!=="",n=e&&e.trim()!=="";a!==n&&(this.totals.saved+=n?1:-1)},placeholderFor(t){const e=this.currentLanguage,a=this.defaultLanguage;if(!e||e===a)return this.$t("medienbaecker.alter.noAltText");const n=t.altDefault||"";return n.trim()!==""?n:this.$t("medienbaecker.alter.noAltText")},async saveImage(t){await this.flushAltDraftSaveFor(t),this.$set(this.saving,t,!0);try{const e=this.getImageById(t),a=this.currentImages[t],n=this.originalImages[t],s=this.hasChanges(t);if(!e||!a)return;const i=await this.$api.post("alter/publish",{imageId:e.id,alt:a.alt});if(i.error)throw new Error(i.error);n&&this.updateSavedTotals(n.alt,a.alt),this.$set(this.originalImages,t,{alt:a.alt}),this.updateUnsavedTotals(s,!1),this.$panel.notification.success()}catch(e){this.$panel.notification.error(this.$t("medienbaecker.alter.error")),console.error(e)}finally{this.$set(this.saving,t,!1)}},async saveAllChanges(t){t&&t.preventDefault(),await this.flushAltDraftSaves();const e=Object.keys(this.currentImages).filter(a=>this.hasChanges(a));e.length!==0&&await Promise.all(e.map(a=>this.saveImage(a)))},async discardImage(t){const e=this.getImageById(t),a=this.originalImages[t],n=this.currentImages[t];if(!e||!a||!n)return;await this.flushAltDraftSaveFor(t);const s=this.hasChanges(t);this.$set(this.currentImages,t,{...a}),this.updateUnsavedTotals(s,this.hasChanges(t));try{await this.$api.post("alter/discard",{imageId:e.id});const r=(await this.$api.get("alter/images",{page:this.page,filter:this.filterMode||"all"})).images.find(o=>o.id===t);r&&(this.$set(this.originalImages,t,{alt:r.altOriginal||""}),this.$set(this.currentImages,t,{alt:r.alt||""}))}catch(i){this.$panel.notification.error(this.$t("medienbaecker.alter.error")),console.error(i)}},async discardChanges(){this.$panel.dialog.close(),await this.flushAltDraftSaves();const t=Object.keys(this.currentImages).filter(e=>this.hasChanges(e));t.length!==0&&await Promise.all(t.map(e=>this.discardImage(e)))}}};var c=function(){var e=this,a=e._self._c;return a("k-panel-inside",[a("k-header",{scopedSlots:e._u([{key:"buttons",fn:function(){return[a("k-button-group",{staticClass:"k-view-buttons"},[a("div",{staticClass:"k-view-button"},[a("k-button",{attrs:{dropdown:!0,icon:"filter",variant:"filled",size:"sm",responsive:"text",text:e.currentFilterLabel},on:{click:function(n){return e.toggleDropdown("filterDropdown")}}}),a("k-dropdown-content",{ref:"filterDropdown",attrs:{"align-x":"end"}},[a("k-dropdown-item",{attrs:{icon:"filter",current:e.filterMode===null},on:{click:function(n){return e.onFilterChange(null)}}},[e._v(" "+e._s(e.$t("medienbaecker.alter.filter.all"))+" ")]),e._l(e.filterOptions,function(n){return a("k-dropdown-item",{key:n.value,attrs:{icon:"filter",current:e.filterMode===n.value},on:{click:function(s){return e.onFilterChange(n.value)}}},[e._v(" "+e._s(n.text)+" ")])})],2)],1),e.totalImagesCount>0?a("div",{staticClass:"k-view-button"},[a("k-button",{attrs:{variant:"filled",size:"sm",icon:"check",element:"span",theme:e.isComplete?"positive":null,badge:e.unsavedImagesCount>0?{theme:"orange",text:e.unsavedImagesCount}:null}},[e._v(" "+e._s(`${e.savedImagesCount}/${e.totalImagesCount}`)+" ")])],1):e._e(),e.panelGenerationEnabled?a("div",{staticClass:"k-view-button"},[a("k-button",{attrs:{dropdown:!0,icon:"ai",variant:"filled",theme:"orange-icon",size:"sm",responsive:"text",text:e.generationDropdownLabel,title:e.generationDropdownLabel,disabled:e.images.length===0||e.generatingAll},on:{click:function(n){return e.toggleDropdown("scopeDropdown")}}}),e.images.length>0?a("k-dropdown-content",{ref:"scopeDropdown",attrs:{"align-x":"end"}},e._l(e.generationScopes,function(n){return a("k-dropdown-item",{key:n.value,attrs:{icon:"aiGenerateText"},on:{click:function(s){return e.onGenerateAll(n.value)}}},[e._v(" "+e._s(n.text)+" ")])}),1):e._e()],1):e._e(),e.languages.length>1?a("div",{staticClass:"k-view-button k-languages-dropdown k-languages-dropdown"},[a("k-button",{attrs:{dropdown:!0,icon:"translate",variant:"filled",size:"sm",responsive:"text",text:e.currentLanguage?e.currentLanguage.toUpperCase():"","aria-label":e.languageButtonLabel,title:e.languageButtonLabel,badge:e.hasAnyUnsavedLanguages?{theme:"orange"}:null},on:{click:function(n){return e.toggleDropdown("languageDropdown")}}}),a("k-dropdown-content",{ref:"languageDropdown",attrs:{"align-x":"end","align-y":"bottom",theme:"dark"}},[e.defaultLanguageItem?a("k-dropdown-item",{key:e.defaultLanguageItem.code,staticClass:"k-languages-dropdown-item",attrs:{current:e.currentLanguage===e.defaultLanguageItem.code,"aria-label":e.defaultLanguageItem.name,title:e.defaultLanguageItem.name},on:{click:function(n){return e.onLanguageChange(e.defaultLanguageItem.code)}}},[e._v(" "+e._s(e.defaultLanguageItem.name)+" "),a("span",{staticClass:"k-languages-dropdown-item-info"},[e.languageHasUnsavedChanges(e.defaultLanguageItem.code)?a("k-icon",{staticClass:"k-languages-dropdown-item-icon",attrs:{type:"edit-line",role:"img","aria-label":"Unsaved changes"}}):e._e(),a("span",{staticClass:"k-languages-dropdown-item-code"},[e._v(" "+e._s(e.defaultLanguageItem.code.toUpperCase())+" ")])],1)]):e._e(),e.defaultLanguageItem&&e.secondaryLanguages.length>0?a("hr"):e._e(),e._l(e.secondaryLanguages,function(n){return a("k-dropdown-item",{key:n.code,staticClass:"k-languages-dropdown-item",attrs:{current:e.currentLanguage===n.code,"aria-label":n.name,title:n.name},on:{click:function(s){return e.onLanguageChange(n.code)}}},[e._v(" "+e._s(n.name)+" "),a("span",{staticClass:"k-languages-dropdown-item-info"},[e.languageHasUnsavedChanges(n.code)?a("k-icon",{staticClass:"k-languages-dropdown-item-icon",attrs:{type:"edit-line",role:"img","aria-label":"Unsaved changes"}}):e._e(),a("span",{staticClass:"k-languages-dropdown-item-code"},[e._v(" "+e._s(n.code.toUpperCase())+" ")])],1)])})],2)],1):e._e()]),a("k-form-controls",{attrs:{"has-diff":e.unsavedImagesCount>0,"is-processing":e.isSaving},on:{discard:e.discardChanges,submit:e.saveAllChanges}})]},proxy:!0}])},[e._v(" "+e._s(e.$t("medienbaecker.alter.title"))+" ")]),e.loading&&e.images.length===0?a("div",{staticClass:"k-loader-container"},[a("k-loader")],1):e.images.length===0?a("div",{staticClass:"k-empty"},[a("k-text",[e._v(e._s(e.emptyStateMessage))])],1):[e._l(e.groupedImages,function(n){return a("k-section",{key:n.pageId},[a("header",{staticClass:"k-section-header"},[a("k-breadcrumb",{attrs:{crumbs:e.formatBreadcrumbs(n.breadcrumbs)}}),a("k-button-group",{staticClass:"k-section-buttons"},[a("k-button",{attrs:{variant:"filled",size:"sm",element:"span",badge:e.badgeForPage(n.pageId)}},[e._v(" "+e._s(n.images.length)+" "+e._s(n.images.length===1?e.$t("medienbaecker.alter.image"):e.$t("medienbaecker.alter.images"))+" ")]),n.hasParentDrafts||n.pageStatus?a("k-button",{attrs:{element:"span",variant:"filled",size:"sm",icon:n.hasParentDrafts?"status-draft":e.pageStatusUi(n).icon,theme:n.hasParentDrafts?"negative-icon":e.pageStatusUi(n).theme,title:n.hasParentDrafts?e.$t("medienbaecker.alter.parentDraft"):e.pageStatusUi(n).title,responsive:!0}},[e._v(" "+e._s(n.hasParentDrafts?e.$t("page.status.draft"):e.pageStatusUi(n).text)+" ")]):e._e()],1)],1),a("k-items",{attrs:{items:e.formatItems(n.images),layout:"cards",size:"huge",link:!1},scopedSlots:e._u([{key:"default",fn:function({item:s}){return[a("div",{staticClass:"k-item k-cards-item",attrs:{"data-image-id":s.id}},[a("k-link",{attrs:{to:s.panelUrl}},[a("k-image-frame",{attrs:{src:s.thumbUrl,alt:e.getImageData(s.id).alt,back:"pattern",ratio:"3/2"}})],1),a("div",{staticClass:"k-item-content"},[a("k-textarea-field",{attrs:{label:s.filename,name:"alt",type:"textarea",value:e.currentImages[s.id]?e.currentImages[s.id].alt:"",placeholder:e.placeholderFor(s),buttons:!1,counter:!0,maxlength:e.maxLength||null,size:"small"},on:{input:function(i){return e.onAltTextInput(s.id,i)}},nativeOn:{focusin:function(i){return e.setActiveImage(s.id)},mousedown:function(i){return e.setActiveImage(s.id)},keydown:function(i){return e.onAltTextKeydown(s.id,i)}}}),e.shouldShowGenerateButton(s.id)||e.hasChanges(s.id)?a("div",{staticClass:"k-form-controls"},[e.shouldShowGenerateButton(s.id)?a("k-button",{attrs:{icon:s.hasAnyAlt?"translateAi":"aiGenerateText",variant:"filled",theme:"orange-icon",size:"sm",responsive:"icon",disabled:e.generating[s.id]},on:{click:function(i){return e.onGenerateImage(s.id)}}}):e._e(),e.hasChanges(s.id)?a("k-button-group",{attrs:{layout:"collapsed"}},[a("k-button",{attrs:{icon:"undo",variant:"filled",theme:"notice",size:"sm"},on:{click:function(i){return e.discardImage(s.id)}}},[e._v(" "+e._s(e.$t("discard"))+" ")]),a("k-button",{attrs:{icon:"check",variant:"filled",theme:"notice",size:"sm"},on:{click:function(i){return e.saveImage(s.id)}}},[e._v(" "+e._s(e.$t("save"))+" ")])],1):e._e()],1):e._e()],1)],1)]}}],null,!0)})],1)}),e.pagination.total>e.pagination.limit?a("k-pagination",{attrs:{page:e.pagination.page,total:e.pagination.total,limit:e.pagination.limit,details:!0},on:{paginate:e.onPageChange}}):e._e()]],2)},d=[],h=u(g,c,d,!1,null,"92a8cd6e");const f=h.exports;panel.plugin("medienbaecker/alter",{icons:{aiGenerateText:'<path d="M20.4668 8.69379L20.7134 8.12811C21.1529 7.11947 21.9445 6.31641 22.9323 5.87708L23.6919 5.53922C24.1027 5.35653 24.1027 4.75881 23.6919 4.57612L22.9748 4.25714C21.9616 3.80651 21.1558 2.97373 20.7238 1.93083L20.4706 1.31953C20.2942 0.893489 19.7058 0.893489 19.5293 1.31953L19.2761 1.93083C18.8442 2.97373 18.0384 3.80651 17.0252 4.25714L16.308 4.57612C15.8973 4.75881 15.8973 5.35653 16.308 5.53922L17.0677 5.87708C18.0555 6.31641 18.8471 7.11947 19.2866 8.12811L19.5331 8.69379C19.7136 9.10792 20.2864 9.10792 20.4668 8.69379ZM2 4C2 3.44772 2.44772 3 3 3H14V5H4V19H20V11H22V20C22 20.5523 21.5523 21 21 21H3C2.44772 21 2 20.5523 2 20V4ZM7 8H17V11H15V10H13V14H14.5V16H9.5V14H11V10H9V11H7V8Z"></path>',imageAi:'<path d="M20.7134 8.12811L20.4668 8.69379C20.2864 9.10792 19.7136 9.10792 19.5331 8.69379L19.2866 8.12811C18.8471 7.11947 18.0555 6.31641 17.0677 5.87708L16.308 5.53922C15.8973 5.35653 15.8973 4.75881 16.308 4.57612L17.0252 4.25714C18.0384 3.80651 18.8442 2.97373 19.2761 1.93083L19.5293 1.31953C19.7058 0.893489 20.2942 0.893489 20.4706 1.31953L20.7238 1.93083C21.1558 2.97373 21.9616 3.80651 22.9748 4.25714L23.6919 4.57612C24.1027 4.75881 24.1027 5.35653 23.6919 5.53922L22.9323 5.87708C21.9445 6.31641 21.1529 7.11947 20.7134 8.12811ZM2.9918 3H14V5H4V19L14 9L20 15V11H22V20.0066C22 20.5552 21.5447 21 21.0082 21H2.9918C2.44405 21 2 20.5551 2 20.0066V3.9934C2 3.44476 2.45531 3 2.9918 3ZM20 17.8284L14 11.8284L6.82843 19H20V17.8284ZM8 11C6.89543 11 6 10.1046 6 9C6 7.89543 6.89543 7 8 7C9.10457 7 10 7.89543 10 9C10 10.1046 9.10457 11 8 11Z"></path>',translateAi:'<path d="M19.7134 8.12811L19.4668 8.69379C19.2864 9.10792 18.7136 9.10792 18.5331 8.69379L18.2866 8.12811C17.8471 7.11947 17.0555 6.31641 16.0677 5.87708L15.308 5.53922C14.8973 5.35653 14.8973 4.75881 15.308 4.57612L16.0252 4.25714C17.0384 3.80651 17.8442 2.97373 18.2761 1.93083L18.5293 1.31953C18.7058 0.893489 19.2942 0.893489 19.4706 1.31953L19.7238 1.93083C20.1558 2.97373 20.9616 3.80651 21.9748 4.25714L22.6919 4.57612C23.1027 4.75881 23.1027 5.35653 22.6919 5.53922L21.9323 5.87708C20.9445 6.31641 20.1529 7.11947 19.7134 8.12811ZM5 17V15H3V17C3 19.2091 4.79086 21 7 21H10V19H7L6.85074 18.9945C5.81588 18.9182 5 18.0544 5 17ZM22.4 21L18 10H16L11.601 21H13.755L14.954 18H19.044L20.245 21H22.4ZM15.753 16L17 12.8852L18.245 16H15.753ZM8 4V2H6V4H2V11H6V14H8V11H12V4H8ZM4 6H6V9H4V6ZM8 6H10V9H8V6Z"></path>'},components:{"k-alter-view":f}})})();
